<!DOCTYPE HTML>
<html>
<head>
    <title>jQuery Slot Machine</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="d58Et_hG0KrLc6xKv03J8U5NA6jqak0kCFxBaz7Y1MM" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="css/app.css">
</head>
<Body>
    <img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/background.png" alt="" style="position:absolute; z-index: 0; background-repeat:no-repeat;
        background-size:contain;
        background-position:center;" >
    <img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/table.png" alt="" style="position:absolute; z-index: 0; background-repeat:no-repeat;
        background-size:contain;
        background-position:center;" >
    <img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/title.png" alt="" style="position:absolute; z-index: 0; background-repeat:no-repeat;
        background-size:contain;
        background-position:center;" >
    <div style="padding-left: 5%;padding-right: 5%; padding-top:15%; position: relative;">
        <div class="slotwrapper" id="example6" style="z-index: 1;">      
            <ul id="first">
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="3"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/cofrewild.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
            </ul>
            <ul id="second">
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="3"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/cofrewild.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
            </ul>
            <ul id="third">
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="3"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/cofrewild.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
            </ul>
            <ul id="forth">
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="3"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/cofrewild.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
            </ul>
            <ul id="fifth">
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="3"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/cofrewild.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
                <li id="1"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/banana.png" alt=""></li>
                <li id="6"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/pina.png" alt=""></li>
                <li id="5"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/melocoton.png" alt=""></li>
                <li id="7"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/setas.png" alt=""></li>
                <li id="2"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/coco.png" alt=""></li>
                <li id="4"><img src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/slot/k.png" alt=""></li>
            </ul>
        </div>
    </div>
    <!--<button type="button" class="btn btn-success btn-lg" id="btn-example6" ></button>
    <p id="credits"></p>
    <p id="money"></p>
    -->
    <button type="button" id="btn-example6" >
        <img  src="https://raw.githubusercontent.com/legalgriftah/sm/main/img/spin.png" style="
        max-width: 100%; top: 0;position:absolute; z-index: 0; background-repeat:no-repeat;
        background-size:contain;
        background-position:center;"/>
    </button>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://raw.githubusercontent.com/legalgriftah/sm/main/js/slotmachine.js"></script>
    <script type="text/javascript">
       var credits = 30;
       var money = 0;
      /* var paragraph = document.getElementById("credits");
       // paragraph.textContent = 'Credit ' + credits;
        var paragraph2 = document.getElementById("money");
       // paragraph2.textContent = 'Money ' + money;*/
        $('#btn-example6').click(function() {
            credits = credits - 3;
           // paragraph.textContent = 'Credit ' + credits;
            $('#example6 ul').playSpin({
                onEnd: function(num) {
                    $('#lbl-example7-1').text($('#lbl-example7-1').text() + num.toString());
                },
                onFinish: function(num) {
                    if(first == second && second != third){
                       money = money+3;
                        console.log('third');
                        console.log(money);
                    }
                    if(first == third && first != second){
                        money = money+3;
                        console.log('second');
                        console.log(money);
                    }
                    if(second == third && second != first){
                        money = money+3;
                        console.log('first');
                        console.log(money);
                    }
                    if(first == second && second == third){
                        money = money+6;
                        console.log('all');
                        console.log(money);
                    }
                    
                    
                    $('#lbl-example7-2').text(num);
                  //  paragraph2.textContent = 'Money ' + money;
                }
            });
        });

        var startSeqs = {};
var startNum = 0;
var first;
var second;
var third;

var first2;
var second2;
var third2;

var first3;
var second3;
var third3;
/*
hay que guardar el orden actual para que al lanzarse se lance de la misma forma.
*/
//segun las probabilidades se repetirán más, asi es mas probable
// jQuery FN
$.fn.playSpin = function (options) {
    if (this.length) {
        if ($(this).is(':animated')) return; // Return false if this element is animating
        startSeqs['mainSeq' + (++startNum)] = {};
        $(this).attr('data-playslot', startNum);

        var total = this.length;
        var thisSeq = 0;

        // Initialize options
        if (typeof options == 'undefined') {
            options = new Object();
        }

        // Pre-define end nums
        var endNums = [];
        if (typeof options.endNum != 'undefined') {
            if ($.isArray(options.endNum)) {
                endNums = options.endNum;
            } else {
                endNums = [options.endNum];
            }
        }

        for (var i = 0; i < this.length; i++) {
            if (typeof endNums[i] == 'undefined') {
                endNums.push(0);
            }
        }

        startSeqs['mainSeq' + startNum]['totalSpinning'] = total;
        return this.each(function () {
            options.endNum = endNums[thisSeq];
            startSeqs['mainSeq' + startNum]['subSeq' + (++thisSeq)] = {};
            startSeqs['mainSeq' + startNum]['subSeq' + thisSeq]['spinning'] = true;
            var track = {
                total: total,
                mainSeq: startNum,
                subSeq: thisSeq
            };
            (new slotMachine(this, options, track));
        });
    }
};

$.fn.stopSpin = function () {
    if (this.length) {
        if (!$(this).is(':animated')) return; // Return false if this element is not animating
        if ($(this)[0].hasAttribute('data-playslot')) {
            $.each(startSeqs['mainSeq' + $(this).attr('data-playslot')], function(index, obj) {
                obj['spinning'] = false;
            });
        }
    }
};

var slotMachine = function (el, options, track) {
    var slot = this;
    slot.$el = $(el);

    slot.defaultOptions = {
        easing: 'swing',        // String: easing type for final spin
        time: 2000,             // Number: total time of spin animation
        loops: 6,               // Number: times it will spin during the animation
        manualStop: false,      // Boolean: spin until user manually click to stop
        stopSeq: 'random',      // String: sequence of slot machine end animation, random, leftToRight, rightToLeft
        endNum: 0,              // Number: animation end at which number/ sequence of list
        onEnd : $.noop,         // Function: run on each element spin end, it is passed endNum
        onFinish: $.noop        // Function: run on all element spin end, it is passed endNum
    };

    slot.spinSpeed = 0;
    slot.loopCount = 0;

    slot.init = function () {
        slot.options = $.extend({}, slot.defaultOptions, options);
        slot.setup();
        slot.startSpin();
    };

    slot.setup = function () {
        var $li = slot.$el.find('li').first();
        slot.liHeight = $li.innerHeight();
        slot.liCount = slot.$el.children().length-3;
        slot.listHeight = slot.liHeight * slot.liCount;
        slot.spinSpeed = slot.options.time / slot.options.loops;

        $li.clone().appendTo(slot.$el); // Clone to last row for smooth animation

        // Configure stopSeq
        if (slot.options.stopSeq == 'leftToRight') {
            if (track.subSeq != 1) {
                slot.options.manualStop = true;
            }
        } else if (slot.options.stopSeq == 'rightToLeft') {
            if (track.total != track.subSeq) {
                slot.options.manualStop = true;
            }
        }
    };

    slot.startSpin = function () {
        slot.$el
            .css('top', -slot.listHeight)
            .animate({'top': '0px'}, slot.spinSpeed, 'linear', function () {
                slot.lowerSpeed();
            });
    };

    slot.lowerSpeed = function () {
        slot.loopCount++;

        if (slot.loopCount < slot.options.loops ||
            (slot.options.manualStop && startSeqs['mainSeq' + track.mainSeq]['subSeq' + track.subSeq]['spinning'])) {
            slot.startSpin();
        } else {
            slot.endSpin();
        }
    };

    slot.endSpin = function () {
        if (slot.options.endNum == 0) {
            slot.options.endNum = slot.randomRange(1, slot.liCount);
        }

        // Error handling if endNum is out of range
        if (slot.options.endNum < 0 || slot.options.endNum > slot.liCount) {
            slot.options.endNum = 0;
        }

        var finalPos = -((slot.liHeight * slot.options.endNum) - slot.liHeight);
        var finalSpeed = ((slot.spinSpeed * 1.5) * (slot.liCount)) / slot.options.endNum;

        slot.$el
            .css('top', -slot.listHeight)
            .animate({'top': finalPos}, finalSpeed, slot.options.easing, function () {
                slot.$el.find('li').last().remove(); // Remove the cloned row

                slot.endAnimation(slot.options.endNum);
                if ($.isFunction(slot.options.onEnd)) {
                    slot.options.onEnd(slot.options.endNum);
                }

                // onFinish is every element is finished animation
                if (startSeqs['mainSeq' + track.mainSeq]['totalSpinning'] == 0) {
                    var totalNum = '';
                    
                    $.each(startSeqs['mainSeq' + track.mainSeq], function(index, subSeqs) {
                        if (typeof subSeqs == 'object') {
                            totalNum += subSeqs['endNum'].toString();
                            console.log('totalnum '+ totalNum);
                            console.log('valor ' + subSeqs['endNum'].toString());
                            if(totalNum < 10){
                                first = document.getElementsByTagName("ul")[0].getElementsByTagName("li")[subSeqs['endNum']-1].id;
                                first2 = document.getElementsByTagName("ul")[0].getElementsByTagName("li")[subSeqs['endNum']].id;
                                first3 = document.getElementsByTagName("ul")[0].getElementsByTagName("li")[subSeqs['endNum']+1].id;
                            }else if(totalNum < 100){
                                second = document.getElementsByTagName("ul")[1].getElementsByTagName("li")[subSeqs['endNum']-1].id;
                                second2 = document.getElementsByTagName("ul")[1].getElementsByTagName("li")[subSeqs['endNum']].id;
                                second3 = document.getElementsByTagName("ul")[1].getElementsByTagName("li")[subSeqs['endNum']+1].id;
                            }else if(totalNum < 1000){
                                third = document.getElementsByTagName("ul")[2].getElementsByTagName("li")[subSeqs['endNum']-1].id;
                                third2 = document.getElementsByTagName("ul")[2].getElementsByTagName("li")[subSeqs['endNum']].id;
                                third3 = document.getElementsByTagName("ul")[2].getElementsByTagName("li")[subSeqs['endNum']+1].id;
                            }
                        }
                    });
                    if ($.isFunction(slot.options.onFinish)) {
                        slot.options.onFinish(totalNum);
                    }
                }
                
            });
    }

    slot.endAnimation = function(endNum) {
        if (slot.options.stopSeq == 'leftToRight' && track.total != track.subSeq) {
            startSeqs['mainSeq' + track.mainSeq]['subSeq' + (track.subSeq + 1)]['spinning'] = false;
        } else if (slot.options.stopSeq == 'rightToLeft' && track.subSeq != 1) {
            startSeqs['mainSeq' + track.mainSeq]['subSeq' + (track.subSeq - 1)]['spinning'] = false;
        }
        startSeqs['mainSeq' + track.mainSeq]['totalSpinning']--;
        startSeqs['mainSeq' + track.mainSeq]['subSeq' + track.subSeq]['endNum'] = endNum;
    }

    slot.randomRange = function (low, high) {
        return Math.floor(Math.random() * (1 + high - low)) + low;
    };

    this.init();
};
    </script>
</body>
</html>