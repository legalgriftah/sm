var first,second,third,first2,second2,third2,first3,second3,third3,startSeqs={},startNum=0;$.fn.playSpin=function(t){if(this.length&&!$(this).is(":animated")){startSeqs["mainSeq"+ ++startNum]={},$(this).attr("data-playslot",startNum);var n=this.length,e=0;void 0===t&&(t={});var i=[];void 0!==t.endNum&&(i=$.isArray(t.endNum)?t.endNum:[t.endNum]);for(var s=0;s<this.length;s++)void 0===i[s]&&i.push(0);return startSeqs["mainSeq"+startNum].totalSpinning=n,this.each(function(){t.endNum=i[e],startSeqs["mainSeq"+startNum]["subSeq"+ ++e]={},startSeqs["mainSeq"+startNum]["subSeq"+e].spinning=!0;var s={total:n,mainSeq:startNum,subSeq:e};new slotMachine(this,t,s)})}},$.fn.stopSpin=function(){this.length&&$(this).is(":animated")&&$(this)[0].hasAttribute("data-playslot")&&$.each(startSeqs["mainSeq"+$(this).attr("data-playslot")],function(t,n){n.spinning=!1})};var slotMachine=function(t,n,e){var i=this;i.$el=$(t),i.defaultOptions={easing:"swing",time:2e3,loops:6,manualStop:!1,stopSeq:"random",endNum:0,onEnd:$.noop,onFinish:$.noop},i.spinSpeed=0,i.loopCount=0,i.init=function(){i.options=$.extend({},i.defaultOptions,n),i.setup(),i.startSpin()},i.setup=function(){var t=i.$el.find("li").first();i.liHeight=t.innerHeight(),i.liCount=i.$el.children().length-3,i.listHeight=i.liHeight*i.liCount,i.spinSpeed=i.options.time/i.options.loops,t.clone().appendTo(i.$el),"leftToRight"==i.options.stopSeq?1!=e.subSeq&&(i.options.manualStop=!0):"rightToLeft"==i.options.stopSeq&&e.total!=e.subSeq&&(i.options.manualStop=!0)},i.startSpin=function(){i.$el.css("top",-i.listHeight).animate({top:"0px"},i.spinSpeed,"linear",function(){i.lowerSpeed()})},i.lowerSpeed=function(){i.loopCount++,i.loopCount<i.options.loops||i.options.manualStop&&startSeqs["mainSeq"+e.mainSeq]["subSeq"+e.subSeq].spinning?i.startSpin():i.endSpin()},i.endSpin=function(){0==i.options.endNum&&(i.options.endNum=i.randomRange(1,i.liCount)),(i.options.endNum<0||i.options.endNum>i.liCount)&&(i.options.endNum=0);var t=-(i.liHeight*i.options.endNum-i.liHeight),n=1.5*i.spinSpeed*i.liCount/i.options.endNum;i.$el.css("top",-i.listHeight).animate({top:t},n,i.options.easing,function(){if(i.$el.find("li").last().remove(),i.endAnimation(i.options.endNum),$.isFunction(i.options.onEnd)&&i.options.onEnd(i.options.endNum),0==startSeqs["mainSeq"+e.mainSeq].totalSpinning){var t="";$.each(startSeqs["mainSeq"+e.mainSeq],function(n,e){"object"==typeof e&&(t+=e.endNum.toString(),console.log("totalnum "+t),console.log("valor "+e.endNum.toString()),t<10?(first=document.getElementsByTagName("ul")[0].getElementsByTagName("li")[e.endNum-1].id,first2=document.getElementsByTagName("ul")[0].getElementsByTagName("li")[e.endNum].id,first3=document.getElementsByTagName("ul")[0].getElementsByTagName("li")[e.endNum+1].id):t<100?(second=document.getElementsByTagName("ul")[1].getElementsByTagName("li")[e.endNum-1].id,second2=document.getElementsByTagName("ul")[1].getElementsByTagName("li")[e.endNum].id,second3=document.getElementsByTagName("ul")[1].getElementsByTagName("li")[e.endNum+1].id):t<1e3&&(third=document.getElementsByTagName("ul")[2].getElementsByTagName("li")[e.endNum-1].id,third2=document.getElementsByTagName("ul")[2].getElementsByTagName("li")[e.endNum].id,third3=document.getElementsByTagName("ul")[2].getElementsByTagName("li")[e.endNum+1].id))}),$.isFunction(i.options.onFinish)&&i.options.onFinish(t)}})},i.endAnimation=function(t){"leftToRight"==i.options.stopSeq&&e.total!=e.subSeq?startSeqs["mainSeq"+e.mainSeq]["subSeq"+(e.subSeq+1)].spinning=!1:"rightToLeft"==i.options.stopSeq&&1!=e.subSeq&&(startSeqs["mainSeq"+e.mainSeq]["subSeq"+(e.subSeq-1)].spinning=!1),startSeqs["mainSeq"+e.mainSeq].totalSpinning--,startSeqs["mainSeq"+e.mainSeq]["subSeq"+e.subSeq].endNum=t},i.randomRange=function(t,n){return Math.floor(Math.random()*(1+n-t))+t},this.init()};